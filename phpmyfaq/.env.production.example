# phpMyFAQ Production Environment Configuration
# Copy this file to .env and configure all variables before deployment
#
# This configuration file is intended for production environments with Docker.
#
# SECURITY WARNING: Never commit the actual .env file to version control!

# ========================================
# phpMyFAQ Version
# ========================================
# Specify the phpMyFAQ version to deploy (e.g., 4.0, latest)
PMF_VERSION=latest

# Debug Configuration (false on production
DEBUG=false
DEBUG_LOG_QUERIES=false

# Application Configuration
APP_ENV=production

# ========================================
# Database Configuration
# ========================================
# Choose your database type: mysqli (MariaDB/MySQL) or pgsql (PostgreSQL)
PMF_DB_TYPE=mysqli

# Database connection settings
PMF_DB_HOST=mariadb
# PMF_DB_HOST=postgres  # Use this for PostgreSQL

PMF_DB_NAME=phpmyfaq
PMF_DB_USER=phpmyfaq

# IMPORTANT: Change these passwords to strong, unique values!
PMF_DB_PASS=CHANGE_THIS_PASSWORD_TO_SOMETHING_SECURE
MYSQL_ROOT_PASSWORD=CHANGE_THIS_ROOT_PASSWORD_TO_SOMETHING_SECURE
MYSQL_PASSWORD=CHANGE_THIS_PASSWORD_TO_SOMETHING_SECURE
MYSQL_USER=phpmyfaq
MYSQL_DATABASE=phpmyfaq

# PostgreSQL settings (if using PostgreSQL)
POSTGRES_DB=phpmyfaq
POSTGRES_USER=phpmyfaq
POSTGRES_PASSWORD=CHANGE_THIS_PASSWORD_TO_SOMETHING_SECURE

# ========================================
# phpMyFAQ Application Settings
# ========================================
# Timezone (use PHP timezone format, e.g., UTC, Europe/Berlin, America/New_York)
PMF_TIMEZONE=UTC

# File uploads (On/Off)
PMF_ENABLE_UPLOADS=On

# PHP memory limit (adjust based on your needs)
PMF_MEMORY_LIMIT=512M

# Disable .htaccess (leave empty to use .htaccess, set to any value to disable)
PMF_DISABLE_HTACCESS=

# ========================================
# Web Server Ports
# ========================================
# HTTP and HTTPS ports to expose on the host
PMF_HTTP_PORT=80
PMF_HTTPS_PORT=443

# HTTP/3 port (for FrankenPHP only)
PMF_HTTP3_PORT=443

# ========================================
# Search Engine Configuration (Optional)
# ========================================
# Leave empty to disable search engine integration

# Elasticsearch
ELASTICSEARCH_BASE_URI=http://elasticsearch:9200
ES_SECURITY_ENABLED=false

# OpenSearch (alternative to Elasticsearch)
# OPENSEARCH_BASE_URI=http://opensearch:9200
# OPENSEARCH_DISABLE_SECURITY=true

# Search timeout in seconds
SEARCH_WAIT_TIMEOUT=30

# ========================================
# SSL/TLS Configuration
# ========================================
# For FrankenPHP automatic HTTPS
SERVER_NAME=:80
# SERVER_NAME=example.com  # Set your domain for automatic HTTPS

# ========================================
# Resource Limits (Optional)
# ========================================
# Adjust these based on your server capacity
# Defined in docker-compose.prod.yml - modify there if needed

# ========================================
# Backup Configuration (Recommended)
# ========================================
# Set up regular backups of volumes:
# - mariadb_data or postgres_data
# - phpmyfaq_data
# - phpmyfaq_images
# - phpmyfaq_attachments
# - phpmyfaq_config

# ========================================
# Monitoring & Logging (Optional)
# ========================================
# Consider integrating with monitoring solutions:
# - Prometheus
# - Grafana
# - ELK Stack
# - Portainer Edge Agent

# ========================================
# Security Checklist
# ========================================
# Before going to production:
# [ ] Changed all default passwords
# [ ] Configured SSL certificates
# [ ] Reviewed and restricted exposed ports
# [ ] Set up regular backups
# [ ] Configured firewall rules
# [ ] Enabled security updates
# [ ] Set up monitoring and alerts
# [ ] Reviewed resource limits
# [ ] Tested disaster recovery procedures
# [ ] Configured log rotation
# [ ] Set up intrusion detection (if needed)
